(function framework7ComponentLoader(o,e){void 0===e&&(e=!0);var t=document,n=(window,o.$),l=(o.Template7,o.utils),a=(o.device,o.support,o.Class,o.Modal),i=(o.ConstructorMethods,o.ModalMethods),s=function(o){function e(e,a){var i=l.extend({title:e.params.dialog.title,text:void 0,content:"",buttons:[],verticalButtons:!1,onClick:void 0,cssClass:void 0,destroyOnClose:!1,on:{}},a);void 0===i.closeByBackdropClick&&(i.closeByBackdropClick=e.params.dialog.closeByBackdropClick,i.backdrop=e.params.dialog.backdrop),o.call(this,e,i);var s,r,d,c,p=this,u=i.title,g=i.text,f=i.content,v=i.buttons,m=i.verticalButtons,h=i.cssClass;if(p.params=i,p.params.hostEl&&0===(s=n(p.params.hostEl)).length)return p;if(p.params.el)r=n(p.params.el);else{var k=["dialog"];0===v.length&&k.push("dialog-no-buttons"),v.length>0&&k.push("dialog-buttons-"+v.length),m&&k.push("dialog-buttons-vertical"),h&&k.push(h);var y="";v.length>0&&(y='\n          <div class="dialog-buttons">\n            '+v.map(function(o){return'\n              <span class="dialog-button'+(o.bold?" dialog-button-bold":"")+(o.color?" color-"+o.color:"")+(o.cssClass?" "+o.cssClass:"")+'">'+o.text+"</span>\n            "}).join("")+"\n          </div>\n        ");var C='\n        <div class="'+k.join(" ")+'">\n          <div class="dialog-inner">\n            '+(u?'<div class="dialog-title">'+u+"</div>":"")+"\n            "+(g?'<div class="dialog-text">'+g+"</div>":"")+"\n            "+f+"\n          </div>\n          "+y+"\n        </div>\n      ";r=n(C)}if(r&&r.length>0&&r[0].f7Modal)return r[0].f7Modal;if(0===r.length)return p.destroy();function b(o){var e=n(this).index(),t=v[e];t.onClick&&t.onClick(p,o),p.params.onClick&&p.params.onClick(p,e),!1!==t.close&&p.close()}function x(o){var e=o.keyCode;v.forEach(function(n,l){n.keyCodes&&n.keyCodes.indexOf(e)>=0&&(t.activeElement&&t.activeElement.blur(),n.onClick&&n.onClick(p,o),p.params.onClick&&p.params.onClick(p,l),!1!==n.close&&p.close())})}function w(o){var e=o.target;0===n(e).closest(p.el).length&&p.params.closeByBackdropClick&&p.backdropEl&&p.backdropEl===e&&p.close()}return p.params.backdrop&&0===(d=e.root.children(".dialog-backdrop")).length&&(d=n('<div class="dialog-backdrop"></div>'),e.root.append(d)),v&&v.length>0&&(p.on("open",function(){r.find(".dialog-button").each(function(o,e){v[o].keyCodes&&(c=!0),n(e).on("click",b)}),!c||e.device.ios||e.device.android||e.device.cordova||n(t).on("keydown",x)}),p.on("close",function(){r.find(".dialog-button").each(function(o,e){n(e).off("click",b)}),!c||e.device.ios||e.device.android||e.device.cordova||n(t).off("keydown",x),c=!1})),l.extend(p,{app:e,$hostEl:s,hostEl:s&&s[0],$el:r,el:r[0],$backdropEl:d,backdropEl:d&&d[0],type:"dialog",setProgress:function(o,t){return e.progressbar.set(r.find(".progressbar"),o,t),p},setText:function(o){var e=r.find(".dialog-text");return 0===e.length&&(e=n('<div class="dialog-text"></div>'),void 0!==u?e.insertAfter(r.find(".dialog-title")):r.find(".dialog-inner").prepend(e)),e.html(o),p.params.text=o,p},setTitle:function(o){var e=r.find(".dialog-title");return 0===e.length&&(e=n('<div class="dialog-title"></div>'),r.find(".dialog-inner").prepend(e)),e.html(o),p.params.title=o,p}}),p.on("opened",function(){p.params.closeByBackdropClick&&e.on("click",w)}),p.on("close",function(){p.params.closeByBackdropClick&&e.off("click",w)}),r[0].f7Modal=p,p.params.destroyOnClose&&p.once("closed",function(){setTimeout(function(){p.destroy()},0)}),p}return o&&(e.__proto__=o),e.prototype=Object.create(o&&o.prototype),e.prototype.constructor=e,e}(a),r={name:"dialog",params:{dialog:{title:void 0,buttonOk:"OK",buttonCancel:"Cancel",usernamePlaceholder:"Username",passwordPlaceholder:"Password",preloaderTitle:"Loading... ",progressTitle:"Loading... ",closeByBackdropClick:!1,destroyPredefinedDialogs:!0,keyboardActions:!0}},static:{Dialog:s},create:function(){var o=this;function e(){return o.params.dialog.title||o.name}var t=o.params.dialog.destroyPredefinedDialogs,n=o.params.dialog.keyboardActions;o.dialog=l.extend(i({app:o,constructor:s,defaultSelector:".dialog.modal-in"}),{alert:function(){for(var l,a,i,r,d,c,p=[],u=arguments.length;u--;)p[u]=arguments[u];return p[0]&&p[0].resize&&(i=p.shift()),r=(l=p)[0],d=l[1],c=l[2],2===p.length&&"function"==typeof p[1]&&(r=(a=p)[0],c=a[1],d=a[2]),new s(o,{hostEl:i,title:void 0===d?e():d,text:r,buttons:[{text:o.params.dialog.buttonOk,bold:!0,onClick:c,keyCodes:n?[13,27]:null}],destroyOnClose:t}).open()},prompt:function(){for(var l,a,i,r,d,c,p,u,g=[],f=arguments.length;f--;)g[f]=arguments[f];return g[0]&&g[0].resize&&(i=g.shift()),r=(l=g)[0],d=l[1],c=l[2],p=l[3],u=l[4],"function"==typeof g[1]&&(r=(a=g)[0],c=a[1],p=a[2],u=a[3],d=a[4]),u=null==u?"":u,new s(o,{hostEl:i,title:void 0===d?e():d,text:r,content:'<div class="dialog-input-field input"><input type="text" class="dialog-input" value="'+u+'"></div>',buttons:[{text:o.params.dialog.buttonCancel,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,keyCodes:n?[13]:null}],onClick:function(o,e){var t=o.$el.find(".dialog-input").val();0===e&&p&&p(t),1===e&&c&&c(t)},destroyOnClose:t}).open()},confirm:function(){for(var l,a,i,r,d,c,p,u=[],g=arguments.length;g--;)u[g]=arguments[g];return u[0]&&u[0].resize&&(i=u.shift()),r=(l=u)[0],d=l[1],c=l[2],p=l[3],"function"==typeof u[1]&&(r=(a=u)[0],c=a[1],p=a[2],d=a[3]),new s(o,{hostEl:i,title:void 0===d?e():d,text:r,buttons:[{text:o.params.dialog.buttonCancel,onClick:p,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,onClick:c,keyCodes:n?[13]:null}],destroyOnClose:t}).open()},login:function(){for(var l,a,i,r,d,c,p,u=[],g=arguments.length;g--;)u[g]=arguments[g];return u[0]&&u[0].resize&&(i=u.shift()),r=(l=u)[0],d=l[1],c=l[2],p=l[3],"function"==typeof u[1]&&(r=(a=u)[0],c=a[1],p=a[2],d=a[3]),new s(o,{hostEl:i,title:void 0===d?e():d,text:r,content:'\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="text" name="dialog-username" placeholder="'+o.params.dialog.usernamePlaceholder+'" class="dialog-input">\n              </div>\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="password" name="dialog-password" placeholder="'+o.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:o.params.dialog.buttonCancel,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,keyCodes:n?[13]:null}],onClick:function(o,e){var t=o.$el.find('[name="dialog-username"]').val(),n=o.$el.find('[name="dialog-password"]').val();0===e&&p&&p(t,n),1===e&&c&&c(t,n)},destroyOnClose:t}).open()},password:function(){for(var l,a,i,r,d,c,p,u=[],g=arguments.length;g--;)u[g]=arguments[g];return u[0]&&u[0].resize&&(i=u.shift()),r=(l=u)[0],d=l[1],c=l[2],p=l[3],"function"==typeof u[1]&&(r=(a=u)[0],c=a[1],p=a[2],d=a[3]),new s(o,{hostEl:i,title:void 0===d?e():d,text:r,content:'\n              <div class="dialog-input-field input">\n                <input type="password" name="dialog-password" placeholder="'+o.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:o.params.dialog.buttonCancel,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,keyCodes:n?[13]:null}],onClick:function(o,e){var t=o.$el.find('[name="dialog-password"]').val();0===e&&p&&p(t),1===e&&c&&c(t)},destroyOnClose:t}).open()},preloader:function(){for(var e,n=[],a=arguments.length;a--;)n[a]=arguments[a];n[0]&&n[0].resize&&(e=n.shift());var i=n[0],r=n[1],d=l[o.theme+"PreloaderContent"]||"";return new s(o,{hostEl:e,title:null==i?o.params.dialog.preloaderTitle:i,content:'<div class="preloader'+(r?" color-"+r:"")+'">'+d+"</div>",cssClass:"dialog-preloader",destroyOnClose:t}).open()},progress:function(){for(var e,n,l,a,i,r,d,c,p=[],u=arguments.length;u--;)p[u]=arguments[u];p[0]&&p[0].resize&&(i=p.shift()),r=(e=p)[0],d=e[1],c=e[2],2===p.length?"number"==typeof p[0]?(d=(n=p)[0],c=n[1],r=n[2]):"string"==typeof p[0]&&"string"==typeof p[1]&&(r=(l=p)[0],c=l[1],d=l[2]):1===p.length&&"number"==typeof p[0]&&(d=(a=p)[0],r=a[1],c=a[2]);var g=void 0===d,f=new s(o,{hostEl:i,title:void 0===r?o.params.dialog.progressTitle:r,cssClass:"dialog-progress",content:'\n              <div class="progressbar'+(g?"-infinite":"")+(c?" color-"+c:"")+'">\n                '+(g?"":"<span></span>")+"\n              </div>\n            ",destroyOnClose:t});return g||f.setProgress(d),f.open()}})}};if(e){if(o.prototype.modules&&o.prototype.modules[r.name])return;o.use(r),o.instance&&(o.instance.useModuleParams(r,o.instance.params),o.instance.useModule(r))}return r}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
